ì£¼ì†Œë¡ ì‚­ì œ
/api/v3/contacts/delete
-----------
# Campaign API v3 ëª…ì„¸ì„œ

## ğŸ“‹ ê°œìš”

ëŒ€ëŸ‰ë©”ì¼ ìº í˜ì¸ ì¡°íšŒ ë° í†µê³„ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” RESTful APIì…ë‹ˆë‹¤.

- **Base URL**: `/api/v3/campaigns`
- **API Version**: v3
- **ë¬¸ì„œ ë²„ì „**: 1.0.0

---

## ğŸ” ì¸ì¦

ëª¨ë“  API ìš”ì²­ì€ https í—¤ë”ì— API Keyë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.

**í•„ìˆ˜ í—¤ë”**:
```
X-API-KEY: {your_api_key}
```

### ì¸ì¦ ì‹¤íŒ¨ ì‘ë‹µ

**API Key ëˆ„ë½ ì‹œ** (`400 Bad Request`):
```json
{
  "status": 400,
  "code": "A004",
  "message": "API í‚¤ê°€ ì…ë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."
}
```

**ì˜ëª»ëœ API Key** (`401 Unauthorized`):
```json
{
  "status": 401,
  "code": "A003",
  "message": "ìœ íš¨í•˜ì§€ ì•Šì€ API í‚¤ì…ë‹ˆë‹¤."
}
```

---

## ğŸ“¡ API ì—”ë“œí¬ì¸íŠ¸

### 1ï¸âƒ£ ìº í˜ì¸ ê²€ìƒ‰

ìº í˜ì¸ ëª©ë¡ì„ ê²€ìƒ‰ ì¡°ê±´ì— ë”°ë¼ ì¡°íšŒí•©ë‹ˆë‹¤.

#### ìš”ì²­ ì •ë³´

```
POST /api/v3/campaigns/search
```

**í•„ìˆ˜ í—¤ë”**:
- `Content-Type: application/json`
- `X-API-KEY: {your_api_key}`


**ìš”ì²­ ë³¸ë¬¸** (ì„ íƒì‚¬í•­):

```json
{
  "limit": 20,
  "offset": 0,
  "title": "í”„ë¡œëª¨ì…˜",
  "status": ["draft", "scheduled", "sending", "completed"],
  "created_by": "í™ê¸¸ë™",
  "created_at_start": "202501010000",
  "created_at_end": "202512312359",
  "group_id": 10
}
```

**í•„ë“œ ì„¤ëª…**:
- `limit` (Integer)
  - ì„¤ëª…: í˜ì´ì§€ë‹¹ ì¡°íšŒí•  ìº í˜ì¸ ìˆ˜
  - ê¸°ë³¸ê°’: 20
  - ìµœëŒ€ê°’: 100

- `offset` (Integer)
  - ì„¤ëª…: ì¡°íšŒ ì‹œì‘ ìœ„ì¹˜
  - ê¸°ë³¸ê°’: 0
- `title` (String, ì„ íƒ)
  - ìº í˜ì¸ ì œëª©ìœ¼ë¡œ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)

- `status` (Array[String], ì„ íƒ)
  - ìº í˜ì¸ ìƒíƒœ í•„í„°
  - ê°€ëŠ¥í•œ ê°’: `draft`, `scheduled`, `sending`, `completed`, `paused`, `failed`

- `created_by` (String, ì„ íƒ)
  - ì‘ì„±ì ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰

- `created_at_start` (String, ì„ íƒ)
  - ê²€ìƒ‰ ì‹œì‘ ì¼ì‹œ (í˜•ì‹: yyyyMMddHHmm)
  - ì˜ˆ: `202501010000` (2025ë…„ 1ì›” 1ì¼ 00:00)

- `created_at_end` (String, ì„ íƒ)
  - ê²€ìƒ‰ ì¢…ë£Œ ì¼ì‹œ (í˜•ì‹: yyyyMMddHHmm)
  - ì˜ˆ: `202512312359` (2025ë…„ 12ì›” 31ì¼ 23:59)

- `group_id` (Integer, ì„ íƒ)
  - ìº í˜ì¸ ê·¸ë£¹ ID

#### ìƒíƒœ ê°’ ì„¤ëª…

ìº í˜ì¸ ìƒíƒœëŠ” ë‹¤ìŒ 6ê°€ì§€ ê°’ìœ¼ë¡œ í‘œì¤€í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

- **`draft`** - ì‘ì„± ì¤‘
  - ì•„ì§ ë°œì†¡ ì¤€ë¹„ê°€ ì•ˆ ëœ ìƒíƒœ
  - DB ìƒíƒœ ì½”ë“œ: `0`, `1`

- **`scheduled`** - ë°œì†¡ ëŒ€ê¸°
  - ë°œì†¡ ì˜ˆì•½ë˜ì–´ ëŒ€ê¸° ì¤‘ì´ê±°ë‚˜ ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœ
  - DB ìƒíƒœ ì½”ë“œ: `2`, `8`, `10`, `11`

- **`sending`** - ë°œì†¡ ì¤‘
  - ì‹¤ì œ ë°œì†¡ì´ ì§„í–‰ ì¤‘ì´ê±°ë‚˜ íì—ì„œ ì²˜ë¦¬ ì¤‘
  - DB ìƒíƒœ ì½”ë“œ: `3`, `14`, `30`, `31`, `32`, `33`, `50`, `51`, `52`

- **`completed`** - ë°œì†¡ ì™„ë£Œ
  - ëª¨ë“  ë°œì†¡ì´ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œë¨
  - DB ìƒíƒœ ì½”ë“œ: `7`

- **`paused`** - ì¼ì‹œ ì •ì§€
  - ë°œì†¡ì´ ì¼ì‹œ ì¤‘ì§€ë˜ê±°ë‚˜ ì—°ê¸°ëœ ìƒíƒœ
  - DB ìƒíƒœ ì½”ë“œ: `4`, `5`, `6`, `53`, `54`, `55`, `56`

- **`failed`** - ì˜¤ë¥˜ ë°œìƒ
  - ë°œì†¡ ì¤‘ ì—ëŸ¬ê°€ ë°œìƒí•œ ìƒíƒœ
  - DB ìƒíƒœ ì½”ë“œ: `9`

**ì°¸ê³ **:
- APIëŠ” ê°„ì†Œí™”ëœ 6ê°€ì§€ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ë‚´ë¶€ì ìœ¼ë¡œëŠ” 50ê°œ ì´ìƒì˜ ìƒì„¸ ìƒíƒœ ì½”ë“œë¡œ ê´€ë¦¬ë©ë‹ˆë‹¤
- ì—¬ëŸ¬ DB ìƒíƒœ ì½”ë“œê°€ í•˜ë‚˜ì˜ API ìƒíƒœë¡œ ë§¤í•‘ë©ë‹ˆë‹¤

#### ì‘ë‹µ ì •ë³´

**ì„±ê³µ ì‘ë‹µ** (`200 OK`):

```json
{
  "total": 150,
  "offset": 0,
  "limit": 20,
  "result": [
    {
      "id": 12345,
      "name": "ì‹ ë…„ í”„ë¡œëª¨ì…˜ ìº í˜ì¸",
      "status": "completed",
      "created_by": "í™ê¸¸ë™",
      "contact_name": "VIP ê³ ê° ë¦¬ìŠ¤íŠ¸",
      "created_at": "2025-01-15 10:30:00",
      "send_at": "2025-01-20 09:00:00",
      "stats": {
        "sent": 10000,
        "delivered": 9850,
        "failed": 150
      }
    }
  ]
}
```

**ì‘ë‹µ í•„ë“œ ì„¤ëª…**:

ğŸ“Š **ìµœìƒìœ„ í•„ë“œ**:
- `total` - ê²€ìƒ‰ ì¡°ê±´ì— ë§ëŠ” ì „ì²´ ìº í˜ì¸ ìˆ˜
- `offset` - í˜„ì¬ í˜ì´ì§€ ì‹œì‘ ìœ„ì¹˜
- `limit` - í˜ì´ì§€ë‹¹ ì¡°íšŒ ìˆ˜
- `result` - ìº í˜ì¸ ëª©ë¡ ë°°ì—´

ğŸ“§ **ìº í˜ì¸ ì •ë³´** (`result` ë°°ì—´ì˜ ê° í•­ëª©):
- `id` - ìº í˜ì¸ ê³ ìœ  ID
- `name` - ìº í˜ì¸ ì´ë¦„
- `status` - ìº í˜ì¸ í˜„ì¬ ìƒíƒœ
- `created_by` - ì‘ì„±ì ì´ë¦„
- `contact_name` - ì£¼ì†Œë¡(ì—°ë½ì²˜) ì´ë¦„
- `created_at` - ìƒì„± ì¼ì‹œ (í˜•ì‹: yyyy-MM-dd HH:mm:ss)
- `send_at` - ë°œì†¡ ì¼ì‹œ (í˜•ì‹: yyyy-MM-dd HH:mm:ss)
- `stats` - ë°œì†¡ í†µê³„ ê°ì²´

ğŸ“ˆ **í†µê³„ ì •ë³´** (`stats` ê°ì²´):
- `sent` - ë°œì†¡ ìš”ì²­ ìˆ˜
- `delivered` - ì„±ê³µ ì „ë‹¬ ìˆ˜
- `failed` - ë°œì†¡ ì‹¤íŒ¨ ìˆ˜

#### ì‚¬ìš© ì˜ˆì œ

**ì˜ˆì œ 1: ì „ì²´ ìº í˜ì¸ ì¡°íšŒ**

```bash
curl -X POST "https://example.com/api/v3/campaigns/search?limit=20&offset=0" \
  -H "Content-Type: application/json" \
  -H "X-API-KEY: your_api_key_here"
```

**ì˜ˆì œ 2: ì™„ë£Œëœ ìº í˜ì¸ë§Œ ì¡°íšŒ**

```bash
curl -X POST "https://example.com/api/v3/campaigns/search?limit=10" \
  -H "Content-Type: application/json" \
  -H "X-API-KEY: your_api_key_here" \
  -d '{
    "status": ["completed"],
    "created_at_start": "202501010000",
    "created_at_end": "202501312359"
  }'
```

**ì˜ˆì œ 3: íŠ¹ì • ì‘ì„±ìì˜ ìº í˜ì¸ ê²€ìƒ‰**

```bash
curl -X POST "https://example.com/api/v3/campaigns/search" \
  -H "Content-Type: application/json" \
  -H "X-API-KEY: your_api_key_here" \
  -d '{
    "title": "í”„ë¡œëª¨ì…˜",
    "created_by": "í™ê¸¸ë™"
  }'
```

---

### 2ï¸âƒ£ ìº í˜ì¸ í†µê³„ ì¡°íšŒ

íŠ¹ì • ìº í˜ì¸ì˜ ìƒì„¸ í†µê³„ ë° ì„¤ì • ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

#### ìš”ì²­ ì •ë³´

```
POST /api/v3/campaigns/{id}/stats
```

**í•„ìˆ˜ í—¤ë”**:
- `X-API-KEY: {your_api_key}`

**ê²½ë¡œ íŒŒë¼ë¯¸í„°**:

- `id` (Integer, í•„ìˆ˜)
  - ì¡°íšŒí•  ìº í˜ì¸ì˜ ê³ ìœ  ID

#### ì‘ë‹µ ì •ë³´

**ì„±ê³µ ì‘ë‹µ** (`200 OK`):

```json
{
  "id": 12345,
  "name": "ì‹ ë…„ í”„ë¡œëª¨ì…˜ ìº í˜ì¸",
  "writer": "í™ê¸¸ë™",
  "status": "completed",
  "created_at": "2025-01-15 10:30:00",
  "retry_count": 3,
  "mail_info": {
    "subject": "ì‹ ë…„ íŠ¹ë³„ í• ì¸ ì•ˆë‚´",
    "sender": "noreply@example.com",
    "sender_name": "Example ë§ˆì¼€íŒ…íŒ€",
    "send_start_at": "2025-01-20 09:00:00",
    "send_end_at": "2025-01-20 12:30:00",
    "resend_end_at": "2025-01-21 09:00:00",
    "mail_size_kb": 125.5
  },
  "stats": {
    "sent": 10000,
    "delivered": 9850,
    "failed": 150,
    "opens": 4500,
    "clicks": 1200,
    "delivery_rate": 98.5,
    "failure_rate": 1.5,
    "open_rate": 45.69,
    "click_rate": 12.18
  },
  "contacts": [
    {
      "name": "VIP ê³ ê° ë¦¬ìŠ¤íŠ¸",
      "count": 5000
    },
    {
      "name": "ì¼ë°˜ íšŒì› ë¦¬ìŠ¤íŠ¸",
      "count": 5000
    }
  ]
}
```

**ì‘ë‹µ í•„ë“œ ì„¤ëª…**:

ğŸ“§ **ìº í˜ì¸ ê¸°ë³¸ ì •ë³´**:
- `id` - ìº í˜ì¸ ê³ ìœ  ID
- `name` - ìº í˜ì¸ ì´ë¦„
- `writer` - ì‘ì„±ì ì´ë¦„
- `status` - í˜„ì¬ ìƒíƒœ (draft, scheduled, sending, completed, paused, failed)
- `created_at` - ìƒì„± ì¼ì‹œ

âš™ï¸ **ë°œì†¡ ì„¤ì •**:
- `retry_count` - í˜„ì¬ ì¬ì‹œë„ íšŸìˆ˜

âœ‰ï¸ **ë©”ì¼ ì •ë³´** (`mail_info` ê°ì²´):
- `subject` - ë©”ì¼ ì œëª©
- `sender` - ë°œì‹ ì ì´ë©”ì¼
- `sender_name` - ë°œì‹ ì ì´ë¦„
- `send_start_at` - ë°œì†¡ ì‹œì‘ ì¼ì‹œ
- `send_end_at` - ë°œì†¡ ì¢…ë£Œ ì¼ì‹œ
- `resend_end_at` - ì¬ë°œì†¡ ì¢…ë£Œ ì¼ì‹œ
- `mail_size_kb` - ë©”ì¼ í¬ê¸° (KB)

ğŸ“Š **í†µê³„ ì •ë³´** (`stats` ê°ì²´):
- `sent` - ì´ ë°œì†¡ ì‹œë„ ìˆ˜
- `delivered` - ì„±ê³µ ì „ë‹¬ ìˆ˜
- `failed` - ë°œì†¡ ì‹¤íŒ¨ ìˆ˜
- `opens` - ì˜¤í”ˆ ìˆ˜
- `clicks` - í´ë¦­ ìˆ˜
- `delivery_rate` - ì „ë‹¬ë¥  (%)
- `failure_rate` - ì‹¤íŒ¨ìœ¨ (%)
- `open_rate` - ì˜¤í”ˆë¥  (%)
- `click_rate` - í´ë¦­ë¥  (%)

ğŸ¯ **ì£¼ì†Œë¡ ì •ë³´** (`contacts` ë°°ì—´):
- `name` - ì£¼ì†Œë¡ ì´ë¦„
- `count` - ì£¼ì†Œë¡ ë‚´ ìˆ˜ì‹ ì ìˆ˜

**ì—ëŸ¬ ì‘ë‹µ** (`404 Not Found`):

```json
{
  "status": 404,
  "code": "M001",
  "message": "ìº í˜ì¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
}
```

#### ì‚¬ìš© ì˜ˆì œ

```bash
curl -X POST "https://example.com/api/v3/campaigns/12345/stats" \
  -H "X-API-KEY: your_api_key_here"
```

---

### 3ï¸âƒ£ ìº í˜ì¸ ìˆ˜ì‹ ì ëª©ë¡ ì¡°íšŒ

íŠ¹ì • ìº í˜ì¸ì˜ ìˆ˜ì‹ ì ëª©ë¡ê³¼ ë°œì†¡ ìƒíƒœë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

#### ìš”ì²­ ì •ë³´

```
POST /api/v3/campaigns/{id}/recipients
```

**í•„ìˆ˜ í—¤ë”**:
- `Content-Type: application/json`
- `X-API-KEY: {your_api_key}`

**ê²½ë¡œ íŒŒë¼ë¯¸í„°**:

- `id` (Integer, í•„ìˆ˜)
  - ì¡°íšŒí•  ìº í˜ì¸ì˜ ê³ ìœ  ID

**ìš”ì²­ ë³¸ë¬¸** (ì„ íƒì‚¬í•­):

```json
{
  "status": "delivered",
  "limit": 100,
  "offset": 0
}
```

**í•„ë“œ ì„¤ëª…**:

- `status` (String, ì„ íƒ)
  - ìˆ˜ì‹ ì íƒ€ì… í•„í„°
  - ê°€ëŠ¥í•œ ê°’: `sent`, `delivered`, `failed`, `opened`, `clicked`
  - ê¸°ë³¸ê°’: `sent` (ì „ì²´ ë°œì†¡ ëŒ€ìƒì)

- `limit` (Integer, ì„ íƒ)
  - í˜ì´ì§€ë‹¹ ì¡°íšŒí•  ìˆ˜ì‹ ì ìˆ˜
  - ê¸°ë³¸ê°’: 100
  - ìµœëŒ€ê°’: 1000

- `offset` (Integer, ì„ íƒ)
  - ì¡°íšŒ ì‹œì‘ ìœ„ì¹˜
  - ê¸°ë³¸ê°’: 0

#### ìˆ˜ì‹ ì íƒ€ì… ì„¤ëª…

- `sent` - ì „ì²´ ë°œì†¡ ëŒ€ìƒì (ê¸°ë³¸ê°’)
- `delivered` - ì„±ê³µ ëŒ€ìƒì
- `failed` - ì‹¤íŒ¨ ëŒ€ìƒì
- `opened` - ì˜¤í”ˆ ëŒ€ìƒì
- `clicked` - í´ë¦­ ëŒ€ìƒì

#### ì‘ë‹µ ì •ë³´

**ì„±ê³µ ì‘ë‹µ** (`200 OK`):

```json
{
  "campaign_id": 12345,
  "status": "delivered",
  "total": 9850,
  "offset": 0,
  "limit": 100,
  "result": [
    {
      "email": "customer1@example.com",
      "name": "í™ê¸¸ë™",
      "sent_at": "2025-01-20 09:05:23",
      "delivered_at": "2025-01-20 09:05:45",
      "opened_at": "2025-01-20 10:30:15",
      "clicked_at": "",
      "field1": "value1",
      "field2": "value2"
    },
    {
      "email": "customer2@example.com",
      "name": "ê¹€ì² ìˆ˜",
      "sent_at": "2025-01-20 09:05:26",
      "delivered_at": "2025-01-20 09:05:48",
      "opened_at": "",
      "clicked_at": "",
      "field1": "value3",
      "field2": "value4"
    }
  ]
}
```

**ì‘ë‹µ í•„ë“œ ì„¤ëª…**:

ğŸ“Š **ìµœìƒìœ„ í•„ë“œ**:
- `campaign_id` - ìº í˜ì¸ ID
- `status` - ì¡°íšŒí•œ ìˆ˜ì‹ ì íƒ€ì… (sent, delivered, failed, opened, clicked)
- `total` - í•´ë‹¹ íƒ€ì…ì˜ ì „ì²´ ìˆ˜ì‹ ì ìˆ˜
- `offset` - í˜„ì¬ í˜ì´ì§€ ì‹œì‘ ìœ„ì¹˜
- `limit` - í˜ì´ì§€ë‹¹ ì¡°íšŒ ìˆ˜
- `result` - ìˆ˜ì‹ ì ëª©ë¡ ë°°ì—´ (ë™ì  í•„ë“œ í¬í•¨)

ğŸ‘¤ **ìˆ˜ì‹ ì ì •ë³´** (`result` ë°°ì—´ì˜ ê° í•­ëª©):

ê¸°ë³¸ í•„ë“œ (í•­ìƒ í¬í•¨):
- `email` - ìˆ˜ì‹ ì ì´ë©”ì¼
- `name` - ìˆ˜ì‹ ì ì´ë¦„
- `sent_at` - ë°œì†¡ ì‹œê° (í˜•ì‹: yyyy-MM-dd HH:mm:ss, ë¹ˆ ë¬¸ìì—´ ê°€ëŠ¥)
- `delivered_at` - ì „ë‹¬ ì‹œê° (í˜•ì‹: yyyy-MM-dd HH:mm:ss, ë¹ˆ ë¬¸ìì—´ ê°€ëŠ¥)
- `opened_at` - ì˜¤í”ˆ ì‹œê° (í˜•ì‹: yyyy-MM-dd HH:mm:ss, ë¹ˆ ë¬¸ìì—´ ê°€ëŠ¥)
- `clicked_at` - í´ë¦­ ì‹œê° (í˜•ì‹: yyyy-MM-dd HH:mm:ss, ë¹ˆ ë¬¸ìì—´ ê°€ëŠ¥)

ë™ì  í•„ë“œ (ì£¼ì†Œë¡ì— ë”°ë¼ ë‹¤ë¦„):
- ì£¼ì†Œë¡ì— ì •ì˜ëœ ì‚¬ìš©ì ì •ì˜ í•„ë“œë“¤ì´ ì¶”ê°€ë¡œ í¬í•¨ë©ë‹ˆë‹¤
- ì˜ˆ: `field1`, `field2`, `company`, `position` ë“±

**ì°¸ê³ **:
- `result` ë°°ì—´ì˜ ê° í•­ëª©ì€ Map í˜•íƒœë¡œ ë°˜í™˜ë˜ì–´ ë™ì  í•„ë“œë¥¼ ì§€ì›í•©ë‹ˆë‹¤
- ì‹œê°„ í•„ë“œê°€ ì—†ëŠ” ê²½ìš° ë¹ˆ ë¬¸ìì—´(`""`)ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤

**ì—ëŸ¬ ì‘ë‹µ** (`404 Not Found`):

```json
{
  "status": 404,
  "code": "M001",
  "message": "ìº í˜ì¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
}
```

#### ì‚¬ìš© ì˜ˆì œ

**ì˜ˆì œ 1: ì „ì²´ ìˆ˜ì‹ ì ì¡°íšŒ**

```bash
curl -X POST "httpss://example.com/api/v3/campaigns/12345/recipients" \
  -H "Content-Type: application/json" \
  -H "X-API-KEY: your_api_key_here"
```

**ì˜ˆì œ 2: ì‹¤íŒ¨í•œ ìˆ˜ì‹ ìë§Œ ì¡°íšŒ**

```bash
curl -X POST "httpss://example.com/api/v3/campaigns/12345/recipients" \
  -H "Content-Type: application/json" \
  -H "X-API-KEY: your_api_key_here" \
  -d '{
    "status": "failed",
    "limit": 50,
    "offset": 0
  }'
```

**ì˜ˆì œ 3: ì˜¤í”ˆí•œ ìˆ˜ì‹ ì ì¡°íšŒ**

```bash
curl -X POST "https://example.com/api/v3/campaigns/12345/recipients" \
  -H "Content-Type: application/json" \
  -H "X-API-KEY: your_api_key_here" \
  -d '{
    "status": "opened"
  }'
```

---

## âš ï¸ ì—ëŸ¬ ì½”ë“œ

### ê³µí†µ ì—ëŸ¬ ì½”ë“œ ëª©ë¡

**400 - Bad Request**
- `C001` - ì…ë ¥ê°’ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤
- `A004` - API í‚¤ê°€ ì…ë ¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤

**401 - Unauthorized**
- `A003` - ìœ íš¨í•˜ì§€ ì•Šì€ API í‚¤ì…ë‹ˆë‹¤

**403 - Forbidden**
- `C004` - ì ‘ê·¼ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤

**404 - Not Found**
- `M001` - ìº í˜ì¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤

**405 - Method Not Allowed**
- `C002` - í—ˆìš©ë˜ì§€ ì•Šì€ https ë©”ì„œë“œì…ë‹ˆë‹¤

**500 - Internal Server Error**
- `C003` - ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤

### ì—ëŸ¬ ì‘ë‹µ í˜•ì‹

ëª¨ë“  ì—ëŸ¬ëŠ” ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤:

```json
{
  "status": 400,
  "code": "C001",
  "message": "ì…ë ¥ê°’ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.",
  "errors": [
    {
      "field": "status",
      "message": "ì…ë ¥ê°’ 'invalid'ì€(ëŠ”) í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í—ˆìš©ëœ ê°’: [draft, scheduled, sending, completed, paused, failed]"
    }
  ]
}
```

**í•„ë“œ ì„¤ëª…**:
- `status` - https ìƒíƒœ ì½”ë“œ
- `code` - ì• í”Œë¦¬ì¼€ì´ì…˜ ì—ëŸ¬ ì½”ë“œ
- `message` - ì—ëŸ¬ ë©”ì‹œì§€
- `errors` - í•„ë“œë³„ ìƒì„¸ ì—ëŸ¬ (ê²€ì¦ ì‹¤íŒ¨ ì‹œì—ë§Œ í¬í•¨)


---

## ğŸ“… ë‚ ì§œ í˜•ì‹

### ì‘ë‹µ ë‚ ì§œ í˜•ì‹

ëª¨ë“  ë‚ ì§œ/ì‹œê°„ í•„ë“œëŠ” ë‹¤ìŒ í˜•ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

**í˜•ì‹**: `yyyy-MM-dd HH:mm:ss`

**ì˜ˆì œ**:
- `2025-01-15 10:30:00`
- `2025-12-31 23:59:59`
- `2025-06-01 12:00:00`

**ì°¸ê³ **:
- ì‹œê°„ëŒ€ëŠ” ì„œë²„ ì‹œê°„ëŒ€(Asia/Seoul)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•©ë‹ˆë‹¤
- ë¹ˆ ê°’ì€ ë¹ˆ ë¬¸ìì—´(`""`) ë˜ëŠ” `null`ë¡œ ë°˜í™˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤

### ìš”ì²­ ë‚ ì§œ í˜•ì‹

ìš”ì²­ ì‹œ ë‚ ì§œ í•„ë“œ (`created_at_start`, `created_at_end`)ëŠ” ë…„ì›”ì¼ì‹œë¶„ í˜•ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

**í˜•ì‹**: `yyyyMMddHHmm` (12ìë¦¬)

**ì˜ˆì œ**:
- `202501150900` â†’ 2025ë…„ 1ì›” 15ì¼ 09:00
- `202512312359` â†’ 2025ë…„ 12ì›” 31ì¼ 23:59
- `202506011200` â†’ 2025ë…„ 6ì›” 1ì¼ 12:00

**í˜•ì‹ ì„¤ëª…**:
- `yyyy` - 4ìë¦¬ ì—°ë„
- `MM` - 2ìë¦¬ ì›” (01-12)
- `dd` - 2ìë¦¬ ì¼ (01-31)
- `HH` - 2ìë¦¬ ì‹œê°„ (00-23)
- `mm` - 2ìë¦¬ ë¶„ (00-59)

---

## ğŸ“š ë¶€ë¡

### A. ìº í˜ì¸ ìƒíƒœ ì½”ë“œ ìƒì„¸ ë§¤í•‘

APIì—ì„œ ì‚¬ìš©í•˜ëŠ” 6ê°€ì§€ í‘œì¤€ ìƒíƒœ ê°’ê³¼ DB ìƒíƒœ ì½”ë“œì˜ ìƒì„¸ ë§¤í•‘í‘œì…ë‹ˆë‹¤.

#### DRAFT (ì‘ì„± ì¤‘)

API ìƒíƒœ ê°’: `draft`

| DB ì½”ë“œ | ìƒíƒœëª… | ì„¤ëª… |
|---------|--------|------|
| 0 | STATE_NOTHING_0 | ì´ˆê¸° ìƒíƒœ |
| 1 | STATE_WRITING_1 | ì‘ì„± ì¤‘ |

#### SCHEDULED (ë°œì†¡ ëŒ€ê¸°)

API ìƒíƒœ ê°’: `scheduled`

| DB ì½”ë“œ | ìƒíƒœëª… | ì„¤ëª… |
|---------|--------|------|
| 2 | STATE_RESERVED_2 | ì˜ˆì•½ë¨ |
| 8 | STATE_READY_8 | ì¤€ë¹„ ì™„ë£Œ |
| 10 | STATE_STANDBY_10 | ëŒ€ê¸° ì¤‘ |
| 11 | STATE_WAITING_APPROVE_11 | ìŠ¹ì¸ ëŒ€ê¸° |

#### SENDING (ë°œì†¡ ì¤‘)

API ìƒíƒœ ê°’: `sending`

| DB ì½”ë“œ | ìƒíƒœëª… | ì„¤ëª… |
|---------|--------|------|
| 3 | STATE_SENDING_3 | ë°œì†¡ ì¤‘ |
| 14 | STATE_RESEND_14 | ì¬ë°œì†¡ ì¤‘ |
| 30 | POSTFIX_WAITING_30 | Postfix ëŒ€ê¸° ì¤‘ |
| 31 | POSTFIX_WAITING_AUTO_RESEND_31 | ìë™ ì¬ë°œì†¡ ëŒ€ê¸° |
| 32 | POSTFIX_WAITING_RESEND_TO_ERROR_32 | ì˜¤ë¥˜ ì¬ë°œì†¡ ëŒ€ê¸° |
| 33 | POSTFIX_SENDING_33 | Postfix ë°œì†¡ ì¤‘ |
| 50 | POSTFIX_FINISHED_SENDING_50 | ë°œì†¡ ì¢…ë£Œ (í ì²˜ë¦¬ ì¤‘) |
| 51 | POSTFIX_FINISHED_ON_QUEUE_51 | í ì²˜ë¦¬ ì™„ë£Œ |
| 52 | POSTFIX_MOVING_FROM_QUEUE_52 | íì—ì„œ ì´ë™ ì¤‘ |

#### COMPLETED (ë°œì†¡ ì™„ë£Œ)

API ìƒíƒœ ê°’: `completed`

| DB ì½”ë“œ | ìƒíƒœëª… | ì„¤ëª… |
|---------|--------|------|
| 7 | STATE_COMPLETED_7 | ë°œì†¡ ì™„ë£Œ |

#### PAUSED (ì¼ì‹œ ì •ì§€)

API ìƒíƒœ ê°’: `paused`

| DB ì½”ë“œ | ìƒíƒœëª… | ì„¤ëª… |
|---------|--------|------|
| 4 | STATE_PAUSED_4 | ì¼ì‹œ ì •ì§€ |
| 5 | STATE_STOPPED_5 | ì¤‘ì§€ë¨ |
| 6 | STATE_POSTPONDED_6 | ì—°ê¸°ë¨ |
| 53 | POSTFIX_PAUSED_FROM_QUEUE_53 | íì—ì„œ ì¼ì‹œ ì •ì§€ |
| 54 | POSTFIX_MOVING_FROM_PAUSED_54 | ì¼ì‹œ ì •ì§€ì—ì„œ ì´ë™ ì¤‘ |
| 55 | POSTFIX_STOPPED_FROM_QUEUE_55 | íì—ì„œ ì¤‘ì§€ |
| 56 | POSTFIX_MOVING_FROM_STOPPED_56 | ì¤‘ì§€ì—ì„œ ì´ë™ ì¤‘ |

#### FAILED (ì˜¤ë¥˜ ë°œìƒ)

API ìƒíƒœ ê°’: `failed`

| DB ì½”ë“œ | ìƒíƒœëª… | ì„¤ëª… |
|---------|--------|------|
| 9 | STATE_ERROR_9 | ì˜¤ë¥˜ ë°œìƒ |

### B. ìˆ˜ì‹ ì íƒ€ì… ìƒì„¸ ì„¤ëª…

APIì—ì„œ ì‚¬ìš©í•˜ëŠ” ìˆ˜ì‹ ì íƒ€ì… ê°’ì…ë‹ˆë‹¤.

| API ê°’ | ì„¤ëª… | ìš©ë„ |
|--------|------|------|
| `sent` | ì „ì²´ ë°œì†¡ ëŒ€ìƒì | ë°œì†¡ì´ ì‹œë„ëœ ëª¨ë“  ìˆ˜ì‹ ì (ê¸°ë³¸ê°’) |
| `delivered` | ì„±ê³µ ëŒ€ìƒì | ì‹¤ì œë¡œ ë©”ì¼ì´ ì „ë‹¬ëœ ìˆ˜ì‹ ì |
| `failed` | ì‹¤íŒ¨ ëŒ€ìƒì | ë°œì†¡ì— ì‹¤íŒ¨í•œ ìˆ˜ì‹ ì |
| `opened` | ì˜¤í”ˆ ëŒ€ìƒì | ë©”ì¼ì„ ì—´ì–´ë³¸ ìˆ˜ì‹ ì |
| `clicked` | í´ë¦­ ëŒ€ìƒì | ë©”ì¼ ë‚´ ë§í¬ë¥¼ í´ë¦­í•œ ìˆ˜ì‹ ì |

**ì°¸ê³ **:
- `sent` â‰¥ `delivered` + `failed` (ì¼ë¶€ëŠ” ì²˜ë¦¬ ì¤‘ì¼ ìˆ˜ ìˆìŒ)
- `opened`ì™€ `clicked`ëŠ” `delivered` ìˆ˜ì‹ ìì˜ ì¼ë¶€
- ì¶”ì  ê¸°ëŠ¥ì´ í™œì„±í™”ëœ ê²½ìš°ì—ë§Œ `opened`ì™€ `clicked` ë°ì´í„° ìˆ˜ì§‘ ê°€ëŠ¥

---

## ğŸ“ ë¬¸ì˜

API ì‚¬ìš© ì¤‘ ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ë¬¸ì˜ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ê¸°ìˆ  ì§€ì›íŒ€ìœ¼ë¡œ ì—°ë½í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

**ë¬¸ì„œ ì •ë³´**:
- ìµœì¢… ìˆ˜ì •ì¼: 2025-12-16
- ë¬¸ì„œ ë²„ì „: 1.1.0
- API ë²„ì „: v3

**ì£¼ìš” ë³€ê²½ ì´ë ¥**:
- v1.1.0 (2025-12-16): ì‹¤ì œ DTO êµ¬ì¡°ì— ë§ê²Œ í•„ë“œëª… ë° ì‘ë‹µ í˜•ì‹ ìˆ˜ì •
- v1.0.1 (2025-12-16): ìº í˜ì¸ ìƒíƒœ ì½”ë“œ ë§¤í•‘ ì •ë³´ ì¶”ê°€
- v1.0.0 (2025-12-16): ì´ˆê¸° ë¬¸ì„œ ì‘ì„±
